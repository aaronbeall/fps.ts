!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t="undefined"!=typeof globalThis?globalThis:t||self).Stats=i()}(this,function(){"use strict";class t{constructor(){this.REVISION=18,this.mode=0,this.frames=0,this.dom=document.createElement("div"),this.dom.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",this.dom.addEventListener("click",t=>{t.preventDefault(),this.showPanel(++this.mode%this.dom.children.length)},!1),this.beginTime=(performance||Date).now(),this.prevTime=this.beginTime,this.fpsPanel=this.addPanel(new i("FPS","#0ff","#002")),this.msPanel=this.addPanel(new i("MS","#0f0","#020")),self.performance&&self.performance.memory&&(this.memPanel=this.addPanel(new i("MB","#f08","#201"))),this.showPanel(0),this.domElement=this.dom}addPanel(t){return this.dom.appendChild(t.dom),t}showPanel(t){for(let i=0;i<this.dom.children.length;i++)this.dom.children[i].style.display=i===t?"block":"none";this.mode=t}begin(){this.beginTime=(performance||Date).now()}end(){this.frames++;const t=(performance||Date).now();if(this.msPanel.update(t-this.beginTime,200),t>=this.prevTime+1e3&&(this.fpsPanel.update(1e3*this.frames/(t-this.prevTime),100),this.prevTime=t,this.frames=0,this.memPanel)){const t=performance.memory;this.memPanel.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return t}update(){this.beginTime=this.end()}setMode(t){this.showPanel(t)}}class i{constructor(t,i,s){this.min=1/0,this.max=0,this.round=Math.round,this.name=t,this.fg=i,this.bg=s,this.PR=this.round(window.devicePixelRatio||1),this.WIDTH=80*this.PR,this.HEIGHT=48*this.PR,this.TEXT_X=3*this.PR,this.TEXT_Y=2*this.PR,this.GRAPH_X=3*this.PR,this.GRAPH_Y=15*this.PR,this.GRAPH_WIDTH=74*this.PR,this.GRAPH_HEIGHT=30*this.PR,this.dom=document.createElement("canvas"),this.dom.width=this.WIDTH,this.dom.height=this.HEIGHT,this.dom.style.cssText="width:80px;height:48px",this.context=this.dom.getContext("2d"),this.context.font="bold "+9*this.PR+"px Helvetica,Arial,sans-serif",this.context.textBaseline="top",this.context.fillStyle=s,this.context.fillRect(0,0,this.WIDTH,this.HEIGHT),this.context.fillStyle=i,this.context.fillText(t,this.TEXT_X,this.TEXT_Y),this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT),this.context.fillStyle=s,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT)}update(t,i){this.min=Math.min(this.min,t),this.max=Math.max(this.max,t),this.context.fillStyle=this.bg,this.context.globalAlpha=1,this.context.fillRect(0,0,this.WIDTH,this.GRAPH_Y),this.context.fillStyle=this.fg,this.context.fillText(this.round(t)+" "+this.name+" ("+this.round(this.min)+"-"+this.round(this.max)+")",this.TEXT_X,this.TEXT_Y),this.context.drawImage(this.dom,this.GRAPH_X+this.PR,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT,this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT),this.context.fillRect(this.GRAPH_X+this.GRAPH_WIDTH-this.PR,this.GRAPH_Y,this.PR,this.GRAPH_HEIGHT),this.context.fillStyle=this.bg,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X+this.GRAPH_WIDTH-this.PR,this.GRAPH_Y,this.PR,this.round((1-t/i)*this.GRAPH_HEIGHT))}}return t.Panel=i,t});
//# sourceMappingURL=fps.min.js.map
